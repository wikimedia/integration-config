# Holds various projects under 'labs/'
#
- project:
    name: 'labs-tools-heritage'
    jobs:
        - '{name}-tox-docker':
            docker_image_var: docker-registry.wikimedia.org/releng/tox-pywikibot:4.8.0-1
            build_timeout: 6  # T206913

- project:
    name: 'labs-tools-wikibugs2'
    jobs:
     - 'labs-tools-wikibugs2-autopull'

- job-template:
    name: 'labs-tools-wikibugs2-autopull'
    node: Docker
    concurrent: false
    properties:
     - build-discarder:
         days-to-keep: 15
    builders:
     - docker-run:
         image: docker-registry.wikimedia.org/releng/curl:0.1.1
         args: '--fail --silent --show-error --max-time 10 https://wikibugs.toolforge.org/pull.php'
    publishers:
     - docker-cleanup

- job:
    name: 'cvnbot-dotnet-test'
    node: Docker
    triggers:
     - zuul
    builders:
     - docker-log-dir
     - docker-src-dir
     - docker-ci-src-setup-simple
     - docker-run-with-log-cache-src:
         image: docker-registry.wikimedia.org/releng/dotnet-mono612:0.1.0
         entrypoint: /usr/bin/msbuild
         args: src/CVNBot.sln /p:Configuration=Debug
    publishers:
     - docker-cleanup

- project:
    name: 'labs-tools-Isa'
    jobs:
       - '{name}-tox-docker'

- project:
    name: 'labs-tools-ldap'
    jobs:
        - '{name}-tox-docker'

- project:
    name: 'labs-tools-map-of-monuments'
    jobs:
       - '{name}-tox-docker':
           docker_image_var: docker-registry.wikimedia.org/releng/tox-mysqld:4.8.0-1

- project:
    name: 'labs-tools-commons-mass-description'
    jobs:
       - '{name}-tox-docker'

- project:
    name: 'labs-tools-weapon-of-mass-description'
    jobs:
       - '{name}-tox-docker'

- project:
    name: 'labs-tools-harvesting-data-refinery'
    jobs:
       - '{name}-tox-docker'

- project:
    name: 'labs-tools-watch-translations'
    jobs:
       - '{name}-tox-docker'

- project:
    name: 'labs-tools-wiki2email'
    jobs:
       - '{name}-tox-docker'

- project:
    name: 'labs-tools-wikinity'
    jobs:
       - '{name}-tox-docker':
           docker_image_var: docker-registry.wikimedia.org/releng/tox-mysqld:4.8.0-1

- project:
    name: 'labs-tools-ipwatcher'
    jobs:
       - '{name}-tox-docker'

- project:
    name: 'labs-tools-urbanecmbot'
    jobs:
       - '{name}-tox-docker'

- project:
    name: 'labs-tools-massmailer'
    jobs:
       - '{name}-tox-docker'

- project:
    name: 'labs'
    jobs:
     - '{name}-tox-docker'
