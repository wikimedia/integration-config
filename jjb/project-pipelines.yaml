- project:
    name: pipelinelib
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    # blubber-doc/examples/helloworldoid
    name: helloworldoid
    pipeline:
      - test
      - publish
    jobs:
      # trigger-helloworldoid-pipeline-test
      # trigger-helloworldoid-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # helloworldoid-pipeline-test
      # helloworldoid-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    # blubber-doc/examples/calculator-service
    name: calculator-service
    pipeline:
      - test_pl
      - publish_pl
    jobs:
      # trigger-calculator-service-pipeline-test_pl
      # trigger-calculator-service-pipeline-publish_pl
      - 'trigger-{name}-pipeline-{pipeline}'
      # calculator-service-pipeline-test_pl
      # calculator-service-pipeline-publish_pl
      - '{name}-pipeline-{pipeline}'

- project:
    name: apertium
    pipeline:
      - test
      - publish
    jobs:
      # trigger-apertium-pipeline-test
      # trigger-apertium-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # apertium-pipeline-test
      # apertium-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: bitu
    pipeline:
      - test
      - publish
    jobs:
      # trigger-bitu-pipeline-test
      # trigger-bitu-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # bitu-pipeline-test
      # bitu-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: citoid
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-citoid-pipeline-test
      # trigger-citoid-pipeline-rehearse
      # trigger-citoid-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # citoid-pipeline-test
      # citoid-pipeline-rehearse
      # citoid-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: change-propagation
    pipeline:
      - test
      - publish
    jobs:
      # trigger-change-propagation-pipeline-test
      # trigger-change-propagation-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # change-propagation-pipeline-test
      # change-propagation-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: chromium-render
    pipeline:
      - test
      - publish
    jobs:
      # trigger-chromium-render-pipeline-test
      # trigger-chromium-render-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # chromium-render-pipeline-test
      # chromium-render-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: cxserver
    pipeline:
      - test
      - publish
    jobs:
      # trigger-cxserver-pipeline-test
      # trigger-cxserver-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # cxserver-pipeline-test
      # cxserver-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: machinetranslation
    pipeline:
      - test
      - publish
    jobs:
      # trigger-machinetranslation-pipeline-test
      # trigger-machinetranslation-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # machinetranslation-pipeline-test
      # machinetranslation-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: mobileapps
    pipeline:
      - test
      - publish
    jobs:
      # trigger-mobileapps-pipeline-test
      # trigger-mobileapps-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # mobileapps-pipeline-test
      # mobileapps-pipeline-publish
      - '{name}-pipeline-{pipeline}'
      # (see mediawiki-services.yaml)
      - 'mobileapps-periodic-test'

- project:
    name: kartotherian
    pipeline:
      - test
      - publish
    jobs:
      # trigger-kartotherian-pipeline-test
      # trigger-kartotherian-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # kartotherian-pipeline-test
      # kartotherian-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: node-rdkafka-statsd
    pipeline:
      - test
    jobs:
      # trigger-node-rdkafka-statsd-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # node-rdkafka-statsd-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: node-rdkafka-factory
    pipeline:
      - test
    jobs:
      # trigger-node-rdkafka-factory-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # node-rdkafka-factory-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: poolcounter
    pipeline:
      - test
    jobs:
      # trigger-poolcounter-api-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # poolcounter-api-pipeline-test
      - '{name}-pipeline-{pipeline}'
      # Legacy job - T399075
      - '{name}-tox':
         docker_image_var: docker-registry.wikimedia.org/releng/tox-poolcounter:4.8.0-3-s3

- project:
    name: recommendation-api
    pipeline:
      - test
      - publish
    jobs:
      # trigger-recommendation-api-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # recommendation-api-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: recommendation-api-ng
    pipeline:
      - test
      - publish
    jobs:
      # trigger-recommendation-api-ng-pipeline-test
      # trigger-recommendation-api-ng-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # recommendation-api-ng-pipeline-test
      # recommendation-api-ng-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: restbase
    pipeline:
      - test
      - publish
    jobs:
      # trigger-restbase-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # restbase-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: similar-users
    pipeline:
      - test
      - publish
    jobs:
      # trigger-similar-users-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # similar-users-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: tegola
    pipeline:
      - test
      - publish
    jobs:
      # trigger-tegola-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # tegola-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: termbox
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-termbox-pipeline-test
      # trigger-termbox-pipeline-rehearse
      # trigger-termbox-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # termbox-pipeline-test
      # termbox-pipeline-rehearse
      # termbox-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikibase-release-prototype
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-wikibase-release-prototype-pipeline-test
      # trigger-wikibase-release-prototype-pipeline-rehearse
      # trigger-wikibase-release-prototype-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # wikibase-release-prototype-pipeline-test
      # wikibase-release-prototype-pipeline-rehearse
      # wikibase-release-prototype-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikifeeds
    pipeline:
      - test
      - publish
    jobs:
      # trigger-wikifeeds-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # wikifeeds-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikimedia-portals
    pipeline:
      - test
      - publish
    jobs:
      # trigger-wikimedia-portals-pipeline-test
      # trigger-wikimedia-portals-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # wikimedia-portals-pipeline-test
      # wikimedia-portals-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: toolforge-delete-crashing-pods
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: toolforge-kube-container-updater
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: typescript-service
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikimedia-developer-portal
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikimedia-toolhub
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-mary-tts
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-ahotts
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-mishkal
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-pronlex
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-symbolset
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-server
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: research-mwaddlink
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: shellbox
    pipeline:
      - test
      - publish
    jobs:
      # trigger-shellbox-pipeline-test
      # trigger-shellbox-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # shellbox-pipeline-test
      # shellbox-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: miscweb
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: codesearch
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: codesearch-sourcebot
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    # machinelearning/liftwing/inference-services
    name: inference-services
    pipeline:
        - outlink-publish
        - outlink-transformer
        - outlink-transformer-publish
        - nsfw-publish
        - revertrisk
        - revertrisk-publish
        - revertrisk-multilingual-publish
        - revertrisk-wikidata-publish
        - revscoring-publish
        - ores-legacy-publish
        - llm-publish
        - langid-publish
        - readability-publish
        - article-descriptions-publish
        - huggingface-publish
        - logo-detection-publish
        - articlequality-publish
        - reference-quality-publish
        - article-country-publish
        - edit-check
        - edit-check-publish
        - pre-commit-check
    jobs:
        # trigger-inference-services-pipeline-outlink-publish
        # trigger-inference-services-pipeline-outlink-transformer
        # trigger-inference-services-pipeline-outlink-transformer-publish
        # trigger-inference-services-pipeline-nsfw-publish
        # trigger-inference-services-pipeline-revertrisk
        # trigger-inference-services-pipeline-revertrisk-publish
        # trigger-inference-services-pipeline-revertrisk-multilingual-publish
        # trigger-inference-services-pipeline-revertrisk-wikidata-publish
        # trigger-inference-services-pipeline-revscoring-publish
        # trigger-inference-services-pipeline-ores-legacy-publish
        # trigger-inference-services-pipeline-llm-publish
        # trigger-inference-services-pipeline-langid-publish
        # trigger-inference-services-pipeline-readability-publish
        # trigger-inference-services-pipeline-article-descriptions-publish
        # trigger-inference-services-pipeline-huggingface-publish
        # trigger-inference-services-pipeline-logo-detection-publish
        # trigger-inference-services-pipeline-articlequality-publish
        # trigger-inference-services-pipeline-reference-quality-publish
        # trigger-inference-services-pipeline-article-country-publish
        # trigger-inference-services-pipeline-edit-check
        # trigger-inference-services-pipeline-edit-check-publish
        # trigger-inference-services-pipeline-pre-commit-check
        - 'trigger-{name}-pipeline-{pipeline}'
        # inference-services-pipeline-outlink-publish
        # inference-services-pipeline-outlink-transformer
        # inference-services-pipeline-outlink-transformer-publish
        # inference-services-pipeline-nsfw-publish
        # inference-services-pipeline-revertrisk
        # inference-services-pipeline-revertrisk-publish
        # inference-services-pipeline-revertrisk-multilingual-publish
        # inference-services-pipeline-revertrisk-wikidata-publish
        # inference-services-pipeline-revscoring-publish
        # inference-services-pipeline-ores-legacy-publish
        # inference-services-pipeline-llm-publish
        # inference-services-pipeline-langid-publish
        # inference-services-pipeline-readability-publish
        # inference-services-pipeline-article-descriptions-publish
        # inference-services-pipeline-huggingface-publish
        # inference-services-pipeline-logo-detection-publish
        # inference-services-pipeline-articlequality-publish
        # inference-services-pipeline-reference-quality-publish
        # inference-services-pipeline-article-country-publish
        # inference-services-pipeline-edit-check
        # inference-services-pipeline-edit-check-publish
        # inference-services-pipeline-pre-commit-check
        - '{name}-pipeline-{pipeline}'

- project:
    name: image-suggestions
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-image-suggestions-pipeline-test
      # trigger-image-suggestions-pipeline-rehearse
      # trigger-image-suggestions-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # image-suggestions-pipeline-test
      # image-suggestions-pipeline-rehearse
      # image-suggestions-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: striker
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: thumbor-plugins
    pipeline:
      - test
      - publish
    jobs:
      # trigger-thumbor-plugins-pipeline-test
      # trigger-thumbor-plugins-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # thumbor-plugins-pipeline-test
      # thumbor-plugins-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: device-analytics
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-device-analytics-pipeline-test
      # trigger-device-analytics-pipeline-rehearse
      # trigger-device-analytics-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # device-analytics-pipeline-test
      # device-analytics-pipeline-rehearse
      # device-analytics-pipeline-publish
      - '{name}-pipeline-{pipeline}'
- project:
    name: geo-analytics
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-geo-analytics-pipeline-test
      # trigger-geo-analytics-pipeline-rehearse
      # trigger-geo-analytics-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # geo-analytics-pipeline-test
      # geo-analytics-pipeline-rehearse
      # geo-analytics-pipeline-publish
      - '{name}-pipeline-{pipeline}'
- project:
    name: media-analytics
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-media-analytics-pipeline-test
      # trigger-media-analytics-pipeline-rehearse
      # trigger-media-analytics-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # media-analytics-pipeline-test
      # media-analytics-pipeline-rehearse
      # media-analytics-pipeline-publish
      - '{name}-pipeline-{pipeline}'
- project:
    name: editor-analytics
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-editor-analytics-pipeline-test
      # trigger-editor-analytics-pipeline-rehearse
      # trigger-editor-analytics-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # editor-analytics-pipeline-test
      # editor-analytics-pipeline-rehearse
      # editor-analytics-pipeline-publish
      - '{name}-pipeline-{pipeline}'
- project:
    name: edit-analytics
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-edit-analytics-pipeline-test
      # trigger-edit-analytics-pipeline-rehearse
      # trigger-edit-analytics-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # edit-analytics-pipeline-test
      # edit-analytics-pipeline-rehearse
      # edit-analytics-pipeline-publish
      - '{name}-pipeline-{pipeline}'
- project:
    name: page-analytics
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-page-analytics-pipeline-test
      # trigger-page-analytics-pipeline-rehearse
      # trigger-page-analytics-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # page-analytics-pipeline-test
      # page-analytics-pipeline-rehearse
      # page-analytics-pipeline-publish
      - '{name}-pipeline-{pipeline}'
