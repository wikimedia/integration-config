- project:
    name: pipelinelib
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    # blubber-doc/examples/helloworldoid
    name: helloworldoid
    pipeline:
      - test
      - publish
    jobs:
      # trigger-helloworldoid-pipeline-test
      # trigger-helloworldoid-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # helloworldoid-pipeline-test
      # helloworldoid-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    # blubber-doc/examples/calculator-service
    name: calculator-service
    pipeline:
      - test_pl
      - publish_pl
    jobs:
      # trigger-calculator-service-pipeline-test_pl
      # trigger-calculator-service-pipeline-publish_pl
      - 'trigger-{name}-pipeline-{pipeline}'
      # calculator-service-pipeline-test_pl
      # calculator-service-pipeline-publish_pl
      - '{name}-pipeline-{pipeline}'

- project:
    name: apertium
    pipeline:
      - test
      - publish
    jobs:
      # trigger-apertium-pipeline-test
      # trigger-apertium-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # apertium-pipeline-test
      # apertium-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: blubber
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-blubber-pipeline-test
      # trigger-blubber-pipeline-rehearse
      # trigger-blubber-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # blubber-pipeline-test
      # blubber-pipeline-rehearse
      # blubber-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: citoid
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-citoid-pipeline-test
      # trigger-citoid-pipeline-rehearse
      # trigger-citoid-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # citoid-pipeline-test
      # citoid-pipeline-rehearse
      # citoid-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: example-node-api
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-example-node-api-pipeline-test
      # trigger-example-node-api-pipeline-rehearse
      # trigger-example-node-api-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # example-node-api-pipeline-test
      # example-node-api-pipeline-rehearse
      # example-node-api-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: eventgate-wikimedia
    pipeline:
      - test
      - publish
    jobs:
      # trigger-eventgate-wikimedia-pipeline-test
      # trigger-eventgate-wikimedia-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # eventgate-wikimedia-pipeline-test
      # eventgate-wikimedia-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: eventstreams
    pipeline:
      - test
      - publish
    jobs:
      # trigger-eventstreams-pipeline-test
      # trigger-eventstreams-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # eventstreams-pipeline-test
      # eventstreams-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: change-propagation
    pipeline:
      - test
      - publish
    jobs:
      # trigger-change-propagation-pipeline-test
      # trigger-change-propagation-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # change-propagation-pipeline-test
      # change-propagation-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: chromium-render
    pipeline:
      - test
      - publish
    jobs:
      # trigger-chromium-render-pipeline-test
      # trigger-chromium-render-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # chromium-render-pipeline-test
      # chromium-render-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: cxserver
    pipeline:
      - test
      - publish
    jobs:
      # trigger-cxserver-pipeline-test
      # trigger-cxserver-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # cxserver-pipeline-test
      # cxserver-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: function-orchestrator
    pipeline:
      - test
      - publish
    jobs:
      # trigger-function-orchestrator-pipeline-test
      # trigger-function-orchestrator-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # function-orchestrator-pipeline-test
      # function-orchestrator-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: function-evaluator
    pipeline:
      - test
      - publish
    jobs:
      # trigger-function-evaluator-pipeline-test
      # trigger-function-evaluator-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # function-evaluator-pipeline-test
      # function-evaluator-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: mathoid
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-mathoid-pipeline-test
      # trigger-mathoid-pipeline-rehearse
      # trigger-mathoid-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # mathoid-pipeline-test
      # mathoid-pipeline-rehearse
      # mathoid-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: mediawiki
    pipeline:
      - publish
      # builds container images for wmf branches
      - wmf-publish
    jobs:
      # trigger-mediawiki-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # mediawiki-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: mediawiki-cli
    pipeline:
      - test
    jobs:
      # trigger-mediawiki-cli-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # mediawiki-cli-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: mobileapps
    pipeline:
      - test
      - publish
    jobs:
      # trigger-mobileapps-pipeline-test
      # trigger-mobileapps-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # mobileapps-pipeline-test
      # mobileapps-pipeline-publish
      - '{name}-pipeline-{pipeline}'
      # (see mediawiki-services.yaml)
      - 'mobileapps-periodic-test'

- project:
    name: wikimedia-production
    pipeline:
      # We don't yet have a test entry point, nor a chart for deployment.
      - publish
    jobs:
      # trigger-mediawiki-production-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # mediawiki-production-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: kask
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-kask-pipeline-test
      # trigger-kask-pipeline-rehearse
      # trigger-kask-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # kask-pipeline-test
      # kask-pipeline-rehearse
      # kask-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: kartotherian
    pipeline:
      - test
      - kartotherian
    jobs:
      # trigger-kartotherian-pipeline-test
      # trigger-kartotherian-pipeline-kartotherian
      - 'trigger-{name}-pipeline-{pipeline}'
      # kartotherian-pipeline-test
      # kartotherian-pipeline-kartotherian
      - '{name}-pipeline-{pipeline}'

- project:
    name: recommendation-api
    pipeline:
      - test
      - publish
    jobs:
      # trigger-recommendation-api-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # recommendation-api-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: restbase
    pipeline:
      - test
      - publish
    jobs:
      # trigger-restbase-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # restbase-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: scap
    pipeline:
      - test
    jobs:
      # trigger-scap-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # scap-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: similar-users
    pipeline:
      - test
      - publish
    jobs:
      # trigger-similar-users-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # similar-users-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: tegola
    pipeline:
      - test
      - publish
    jobs:
      # trigger-tegola-pipeline-test
      - 'trigger-{name}-pipeline-{pipeline}'
      # tegola-pipeline-test
      - '{name}-pipeline-{pipeline}'

- project:
    name: termbox
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-termbox-pipeline-test
      # trigger-termbox-pipeline-rehearse
      # trigger-termbox-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # termbox-pipeline-test
      # termbox-pipeline-rehearse
      # termbox-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikibase-release-prototype
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-wikibase-release-prototype-pipeline-test
      # trigger-wikibase-release-prototype-pipeline-rehearse
      # trigger-wikibase-release-prototype-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # wikibase-release-prototype-pipeline-test
      # wikibase-release-prototype-pipeline-rehearse
      # wikibase-release-prototype-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: toolforge-delete-crashing-pods
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: toolforge-ingress-admission-controller
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: toolforge-registry-admission-controller
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: typescript-service
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikimedia-developer-portal
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikimedia-toolhub
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-mary-tts
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-ahotts
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-mishkal
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-pronlex
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-symbolset
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wikispeech-server
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: research-mwaddlink
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: wvui
    pipeline:
      - test
      - release:
          allowedCredentials:
            WVUI_NPM_TOKEN: "StringBinding"
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: rdf-streaming-updater
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: shellbox
    pipeline:
      - test
      - publish
    jobs:
      # trigger-shellbox-pipeline-test
      # trigger-shellbox-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # shellbox-pipeline-test
      # shellbox-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: metrics-platform
    pipeline:
      - test-js
      - test-php
      - test-java
      - test-swift
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: miscweb
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: codesearch
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: libraryupgrader
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: ircservserv-config
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: image-suggestion-api
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    # machinelearning/liftwing/inference-services
    name: inference-services
    pipeline:
        - editquality
        - editquality-publish
        - articlequality
        - articlequality-publish
        - draftquality
        - draftquality-publish
        - topic
        - topic-publish
        - outlink
        - outlink-publish
        - outlink-transformer
        - outlink-transformer-publish
    jobs:
        # trigger-inference-services-pipeline-editquality
        # trigger-inference-services-pipeline-editquality-publish
        # trigger-inference-services-pipeline-articlequality
        # trigger-inference-services-pipeline-articlequality-publish
        # trigger-inference-services-pipeline-draftquality
        # trigger-inference-services-pipeline-draftquality-publish
        # trigger-inference-services-pipeline-topic
        # trigger-inference-services-pipeline-topic-publish
        # trigger-inference-services-pipeline-outlink
        # trigger-inference-services-pipeline-outlink-publish
        # trigger-inference-services-pipeline-outlink-transformer
        # trigger-inference-services-pipeline-outlink-transformer-publish
        - 'trigger-{name}-pipeline-{pipeline}'
        # inference-services-pipeline-editquality
        # inference-services-pipeline-editquality-publish
        # inference-services-pipeline-articlequality
        # inference-services-pipeline-articlequality-publish
        # inference-services-pipeline-draftquality
        # inference-services-pipeline-draftquality-publish
        # inference-services-pipeline-topic
        # inference-services-pipeline-topic-publish
        # inference-services-pipeline-outlink
        # inference-services-pipeline-outlink-publish
        # inference-services-pipeline-outlink-transformer
        # inference-services-pipeline-outlink-transformer-publish
        - '{name}-pipeline-{pipeline}'

- project:
    name: apple-search
    pipeline:
      - test
      - publish
    jobs:
      # trigger-apple-search-pipeline-test
      # trigger-apple-search-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # apple-search-pipeline-test
      # apple-search-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: analytics-quarry-web
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: toolforge-volume-admission-controller
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    # wikimedia/security/security-api
    name: security-api
    pipeline:
      - test
      - publish
    jobs:
      # trigger-security-api-pipeline-test
      # trigger-security-api-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # security-api-pipeline-test
      # security-api-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    # mediawiki/services/servicelib-node
    name: servicelib-node
    pipeline:
        - spec
    jobs:
        # trigger-servicelib-node-services-pipeline-spec
        - 'trigger-{name}-pipeline-{pipeline}'
        # servicelib-node-pipeline-spec
        - '{name}-pipeline-{pipeline}'

- project:
    name: service-scaffold-node
    pipeline:
      - test
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: datahub
    pipeline:
      - gms-build
      - gms-publish
      - frontend-build
      - frontend-publish
      - mce-consumer-build
      - mce-consumer-publish
      - mae-consumer-build
      - mae-consumer-publish
      - mysql-setup-build
      - mysql-setup-publish
      - elasticsearch-setup-build
      - elasticsearch-setup-publish
      - kafka-setup-build
      - kafka-setup-publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'

- project:
    name: image-suggestions
    pipeline:
      - test
      - rehearse
      - publish
    jobs:
      # trigger-image-suggestions-pipeline-test
      # trigger-image-suggestions-pipeline-rehearse
      # trigger-image-suggestions-pipeline-publish
      - 'trigger-{name}-pipeline-{pipeline}'
      # image-suggestions-pipeline-test
      # image-suggestions-pipeline-rehearse
      # image-suggestions-pipeline-publish
      - '{name}-pipeline-{pipeline}'

- project:
    name: striker
    pipeline:
      - test
      - publish
    jobs:
      - 'trigger-{name}-pipeline-{pipeline}'
      - '{name}-pipeline-{pipeline}'
